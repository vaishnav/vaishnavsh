import{r as R,a as Te}from"./react.4bffc009.js";import{p as L}from"./pdfjs-dist.90e1c69c.js";import{_ as T,a as O,b as Oe,c as H,d as J,e as f,f as _,g as l,h as Ce,i as P,j as D}from"./@babel.d80823c4.js";import{p as i}from"./prop-types.26c31ece.js";import{m as _e,t as De,k as Ae,a as de}from"./make-event-props.904b2f8b.js";import{m as M}from"./make-cancellable-promise.4791df74.js";import{c as ge}from"./clsx.09c75e33.js";import{i as b}from"./tiny-invariant.47b24a6d.js";import{w as x}from"./tiny-warning.49191a0e.js";import{j as g,a as Ie}from"./react-icons.54c61436.js";import{m as he}from"./merge-refs.551234d1.js";const Q=R.exports.createContext(null);function E(a){var s=a.children,n=a.type;return g("div",{className:"react-pdf__message react-pdf__message--".concat(n),children:s})}E.propTypes={children:i.exports.node,type:i.exports.oneOf(["error","loading","no-data"]).isRequired};var Ne="noopener noreferrer nofollow",ve=function(){function a(){O(this,a),this.externalLinkTarget=null,this.externalLinkRel=null}return T(a,[{key:"setDocument",value:function(n){this.pdfDocument=n}},{key:"setViewer",value:function(n){this.pdfViewer=n}},{key:"setExternalLinkRel",value:function(n){this.externalLinkRel=n}},{key:"setExternalLinkTarget",value:function(n){this.externalLinkTarget=n}},{key:"setHistory",value:function(){}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(n){this.pdfViewer.currentPageNumber=n}},{key:"rotation",get:function(){return 0},set:function(n){}},{key:"goToDestination",value:function(n){var e=this;new Promise(function(t){typeof n=="string"?e.pdfDocument.getDestination(n).then(t):Array.isArray(n)?t(n):n.then(t)}).then(function(t){b(Array.isArray(t),'"'.concat(t,'" is not a valid destination array.'));var c=t[0];new Promise(function(u){c instanceof Object?e.pdfDocument.getPageIndex(c).then(function(r){u(r)}).catch(function(){b(!1,'"'.concat(c,'" is not a valid page reference.'))}):typeof c=="number"?u(c):b(!1,'"'.concat(c,'" is not a valid destination reference.'))}).then(function(u){var r=u+1;b(r>=1&&r<=e.pagesCount,'"'.concat(r,'" is not a valid page number.')),e.pdfViewer.scrollPageIntoView({dest:n,pageIndex:u,pageNumber:r})})})}},{key:"navigateTo",value:function(n){this.goToDestination(n)}},{key:"goToPage",value:function(){}},{key:"addLinkAttributes",value:function(n,e,t){n.href=e,n.rel=this.externalLinkRel||Ne,n.target=t?"_blank":this.externalLinkTarget||""}},{key:"getDestinationHash",value:function(){return"#"}},{key:"getAnchorUrl",value:function(){return"#"}},{key:"setHash",value:function(){}},{key:"executeNamedAction",value:function(){}},{key:"cachePageRef",value:function(){}},{key:"isPageVisible",value:function(){return!0}},{key:"isPageCached",value:function(){return!0}}]),a}(),ne={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},N=typeof document<"u",me=N&&window.location.protocol==="file:";function k(a){return typeof a<"u"}function A(a){return k(a)&&a!==null}function je(a){return typeof a=="string"}function Fe(a){return a instanceof ArrayBuffer}function $e(a){return b(N,"isBlob can only be used in a browser environment"),a instanceof Blob}function Me(a){return b(N,"isFile can only be used in a browser environment"),a instanceof File}function Y(a){return je(a)&&/^data:/.test(a)}function oe(a){b(Y(a),"Invalid data URI.");var s=a.split(","),n=Oe(s,2),e=n[0],t=n[1],c=e.split(";");return c.indexOf("base64")!==-1?atob(t):unescape(t)}function Be(){return N&&window.devicePixelRatio||1}var ye="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function ae(){x(!me,"Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ".concat(ye))}function Ge(){x(!me,"Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ".concat(ye))}function C(a){a&&a.cancel&&a.cancel()}function $(a,s){return Object.defineProperty(a,"width",{get:function(){return this.view[2]*s},configurable:!0}),Object.defineProperty(a,"height",{get:function(){return this.view[3]*s},configurable:!0}),Object.defineProperty(a,"originalWidth",{get:function(){return this.view[2]},configurable:!0}),Object.defineProperty(a,"originalHeight",{get:function(){return this.view[3]},configurable:!0}),a}function xe(a){return a.name==="RenderingCancelledException"}function Ue(a){return new Promise(function(s,n){var e=new FileReader;return e.onload=function(){return s(new Uint8Array(e.result))},e.onerror=function(t){switch(t.target.error.code){case t.target.error.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case t.target.error.NOT_READABLE_ERR:return n(new Error("Error while reading a file: File not readable."));case t.target.error.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case t.target.error.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},e.readAsArrayBuffer(a),null})}var X=function(){var a={};return[].concat(H(_e),H(De),H(Ae)).forEach(function(s){a[s]=i.exports.func}),a}(),Z=[i.exports.string,i.exports.instanceOf(ArrayBuffer),i.exports.shape({data:i.exports.oneOfType([i.exports.object,i.exports.string]),httpHeaders:i.exports.object,range:i.exports.object,url:i.exports.string,withCredentials:i.exports.bool})];typeof File<"u"&&Z.push(i.exports.instanceOf(File));typeof Blob<"u"&&Z.push(i.exports.instanceOf(Blob));var ee=i.exports.oneOfType([i.exports.string,i.exports.arrayOf(i.exports.string)]),Ve=i.exports.oneOfType(Z),qe=i.exports.instanceOf(ve);i.exports.oneOf(["_self","_blank","_parent","_top"]);var B=i.exports.shape({commonObjs:i.exports.shape({}).isRequired,getAnnotations:i.exports.func.isRequired,getTextContent:i.exports.func.isRequired,getViewport:i.exports.func.isRequired,render:i.exports.func.isRequired}),We=function(s,n,e){var t=s[n],c=s.pageNumber,u=s.pdf;if(!k(u))return null;if(k(t)){if(typeof t!="number")return new Error("`".concat(n,"` of type `").concat(J(t),"` supplied to `").concat(e,"`, expected `number`."));if(t<0)return new Error("Expected `".concat(n,"` to be greater or equal to 0."));var r=u.numPages;if(t+1>r)return new Error("Expected `".concat(n,"` to be less or equal to ").concat(r-1,"."))}else if(!k(c))return new Error("`".concat(n,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(e,"`."));return null},He=function(s,n,e){var t=s[n],c=s.pageIndex,u=s.pdf;if(!k(u))return null;if(k(t)){if(typeof t!="number")return new Error("`".concat(n,"` of type `").concat(J(t),"` supplied to `").concat(e,"`, expected `number`."));if(t<1)return new Error("Expected `".concat(n,"` to be greater or equal to 1."));var r=u.numPages;if(t>r)return new Error("Expected `".concat(n,"` to be less or equal to ").concat(r,"."))}else if(!k(c))return new Error("`".concat(n,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(e,"`."));return null},te=i.exports.oneOfType([i.exports.shape({getDestination:i.exports.func.isRequired,getOutline:i.exports.func.isRequired,getPage:i.exports.func.isRequired,numPages:i.exports.number.isRequired}),i.exports.bool]),G=i.exports.oneOfType([i.exports.func,i.exports.shape({current:i.exports.any})]),Ke=i.exports.oneOf(["canvas","none","svg"]),j=i.exports.oneOf([0,90,180,270]),ze=["url"];function ie(a,s){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);s&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})),n.push.apply(n,e)}return n}function I(a){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?ie(Object(n),!0).forEach(function(e){f(a,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(n,e))})}return a}function Ye(a){var s=Je();return function(){var e=P(a),t;if(s){var c=P(this).constructor;t=Reflect.construct(e,arguments,c)}else t=e.apply(this,arguments);return D(this,t)}}function Je(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Qe=L.exports.PDFDataRangeTransport,Re=function(a){_(n,a);var s=Ye(n);function n(){var e;O(this,n);for(var t=arguments.length,c=new Array(t),u=0;u<t;u++)c[u]=arguments[u];return e=s.call.apply(s,[this].concat(c)),f(l(e),"state",{pdf:null}),f(l(e),"viewer",{scrollPageIntoView:function(o){var p=o.dest,d=o.pageIndex,h=o.pageNumber,v=e.props.onItemClick;if(v){v({dest:p,pageIndex:d,pageNumber:h});return}var m=e.pages[d];if(m){m.scrollIntoView();return}x(!1,"An internal link leading to page ".concat(h," was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>."))}}),f(l(e),"linkService",new ve),f(l(e),"loadDocument",function(){C(e.runningTask),e.loadingTask&&e.loadingTask.destroy();var r=M(e.findDocumentSource());e.runningTask=r,r.promise.then(function(o){if(e.onSourceSuccess(),!!o){e.setState(function(y){return y.pdf?{pdf:null}:null});var p=e.props,d=p.options,h=p.onLoadProgress,v=p.onPassword,m=L.exports.getDocument(I(I({},o),d));m.onPassword=v,h&&(m.onProgress=h),e.loadingTask=m,m.promise.then(function(y){e.setState(function(w){return w.pdf&&w.pdf.fingerprint===y.fingerprint?null:{pdf:y}},e.onLoadSuccess)}).catch(function(y){e.onLoadError(y)})}}).catch(function(o){e.onSourceError(o)})}),f(l(e),"setupLinkService",function(){var r=e.props,o=r.externalLinkRel,p=r.externalLinkTarget;e.linkService.setViewer(e.viewer),e.linkService.setExternalLinkRel(o),e.linkService.setExternalLinkTarget(p)}),f(l(e),"onSourceSuccess",function(){var r=e.props.onSourceSuccess;r&&r()}),f(l(e),"onSourceError",function(r){x(r);var o=e.props.onSourceError;o&&o(r)}),f(l(e),"onLoadSuccess",function(){var r=e.props.onLoadSuccess,o=e.state.pdf;r&&r(o),e.pages=new Array(o.numPages),e.linkService.setDocument(o)}),f(l(e),"onLoadError",function(r){e.setState({pdf:!1}),x(r);var o=e.props.onLoadError;o&&o(r)}),f(l(e),"findDocumentSource",function(){return new Promise(function(r){var o=e.props.file;if(o||r(null),typeof o=="string"){if(Y(o)){var p=oe(o);r({data:p})}ae(),r({url:o})}if(o instanceof Qe&&r({range:o}),Fe(o)&&r({data:o}),N&&($e(o)||Me(o))){Ue(o).then(function(m){r({data:m})});return}if(b(J(o)==="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),b(o.url||o.data||o.range,"Invalid parameter object: need either .data, .range or .url"),typeof o.url=="string"){if(Y(o.url)){var d=o.url,h=Ce(o,ze),v=oe(d);r(I({data:v},h))}ae()}r(o)})}),f(l(e),"registerPage",function(r,o){e.pages[r]=o}),f(l(e),"unregisterPage",function(r){delete e.pages[r]}),e}return T(n,[{key:"componentDidMount",value:function(){this.loadDocument(),this.setupLinkService()}},{key:"componentDidUpdate",value:function(t){var c=this.props.file;c!==t.file&&this.loadDocument()}},{key:"componentWillUnmount",value:function(){C(this.runningTask),this.loadingTask&&this.loadingTask.destroy()}},{key:"childContext",get:function(){var t=this.linkService,c=this.registerPage,u=this.unregisterPage,r=this.props,o=r.imageResourcesPath,p=r.renderMode,d=r.rotate,h=this.state.pdf;return{imageResourcesPath:o,linkService:t,pdf:h,registerPage:c,renderMode:p,rotate:d,unregisterPage:u}}},{key:"eventProps",get:function(){var t=this;return de(this.props,function(){return t.state.pdf})}},{key:"renderChildren",value:function(){var t=this.props.children;return g(Q.Provider,{value:this.childContext,children:t})}},{key:"renderContent",value:function(){var t=this.props.file,c=this.state.pdf;if(!t){var u=this.props.noData;return g(E,{type:"no-data",children:typeof u=="function"?u():u})}if(c===null){var r=this.props.loading;return g(E,{type:"loading",children:typeof r=="function"?r():r})}if(c===!1){var o=this.props.error;return g(E,{type:"error",children:typeof o=="function"?o():o})}return this.renderChildren()}},{key:"render",value:function(){var t=this.props,c=t.className,u=t.inputRef;return g("div",{className:ge("react-pdf__Document",c),ref:u,...this.eventProps,children:this.renderContent()})}}]),n}(R.exports.PureComponent);Re.defaultProps={error:"Failed to load PDF file.",loading:"Loading PDF\u2026",noData:"No PDF file specified.",onPassword:function(s,n){switch(n){case ne.NEED_PASSWORD:{var e=prompt("Enter the password to open this PDF file.");s(e);break}case ne.INCORRECT_PASSWORD:{var t=prompt("Invalid password. Please try again.");s(t);break}}}};var K=i.exports.oneOfType([i.exports.func,i.exports.node]);Re.propTypes=I(I({},X),{},{children:i.exports.node,className:ee,error:K,externalLinkRel:i.exports.string,externalLinkTarget:i.exports.string,file:Ve,imageResourcesPath:i.exports.string,inputRef:G,loading:K,noData:K,onItemClick:i.exports.func,onLoadError:i.exports.func,onLoadProgress:i.exports.func,onLoadSuccess:i.exports.func,onPassword:i.exports.func,onSourceError:i.exports.func,onSourceSuccess:i.exports.func,rotate:i.exports.number});var se=i.exports.oneOfType([i.exports.string,i.exports.arrayOf(i.exports.any)]);i.exports.shape({dest:se,items:i.exports.arrayOf(i.exports.shape({dest:se,title:i.exports.string})),title:i.exports.string}).isRequired,i.exports.func,te.isRequired;function ce(a,s){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);s&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})),n.push.apply(n,e)}return n}function Xe(a){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?ce(Object(n),!0).forEach(function(e){f(a,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(n,e))})}return a}Xe({className:ee,inputRef:G,onItemClick:i.exports.func,onLoadError:i.exports.func,onLoadSuccess:i.exports.func,pdf:te},X);const F=R.exports.createContext(null);function Ze(a){var s=et();return function(){var e=P(a),t;if(s){var c=P(this).constructor;t=Reflect.construct(e,arguments,c)}else t=e.apply(this,arguments);return D(this,t)}}function et(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var ue=L.exports.AnnotationMode,be=function(a){_(n,a);var s=Ze(n);function n(){var e;O(this,n);for(var t=arguments.length,c=new Array(t),u=0;u<t;u++)c[u]=arguments[u];return e=s.call.apply(s,[this].concat(c)),f(l(e),"canvasElement",R.exports.createRef()),f(l(e),"onRenderSuccess",function(){e.renderer=null;var r=e.props,o=r.onRenderSuccess,p=r.page,d=r.scale;o&&o($(p,d))}),f(l(e),"onRenderError",function(r){if(!xe(r)){x(r);var o=e.props.onRenderError;o&&o(r)}}),f(l(e),"drawPageOnCanvas",function(){var r=e.canvasElement.current;if(!r)return null;var o=l(e),p=o.renderViewport,d=o.viewport,h=e.props,v=h.canvasBackground,m=h.page,y=h.renderForms;r.width=p.width,r.height=p.height,r.style.width="".concat(Math.floor(d.width),"px"),r.style.height="".concat(Math.floor(d.height),"px");var w={annotationMode:y?ue.ENABLE_FORMS:ue.ENABLE,get canvasContext(){return r.getContext("2d",{alpha:!1})},viewport:p};v&&(w.background=v),e.cancelRenderingTask();var S=m.render(w);return e.renderer=S,S.promise.then(e.onRenderSuccess).catch(e.onRenderError)}),e}return T(n,[{key:"componentDidMount",value:function(){this.drawPageOnCanvas()}},{key:"componentDidUpdate",value:function(t){var c=this.props,u=c.canvasBackground,r=c.devicePixelRatio,o=c.page,p=c.renderForms;(u!==t.canvasBackground||r!==t.devicePixelRatio||p!==t.renderForms)&&(o.cleanup(),this.drawPageOnCanvas())}},{key:"componentWillUnmount",value:function(){this.cancelRenderingTask();var t=this.canvasElement.current;t&&(t.width=0,t.height=0)}},{key:"cancelRenderingTask",value:function(){this.renderer&&(this.renderer.cancel(),this.renderer=null)}},{key:"devicePixelRatio",get:function(){var t=this.props.devicePixelRatio;return t||Be()}},{key:"renderViewport",get:function(){var t=this.devicePixelRatio,c=this.props,u=c.page,r=c.rotate,o=c.scale;return u.getViewport({scale:o*t,rotation:r})}},{key:"viewport",get:function(){var t=this.props,c=t.page,u=t.rotate,r=t.scale;return c.getViewport({scale:r,rotation:u})}},{key:"render",value:function(){var t=this.props.canvasRef;return g("canvas",{className:"react-pdf__Page__canvas",dir:"ltr",ref:he(t,this.canvasElement),style:{display:"block",userSelect:"none"}})}}]),n}(R.exports.PureComponent);be.propTypes={canvasBackground:i.exports.string,canvasRef:G,devicePixelRatio:i.exports.number,onRenderError:i.exports.func,onRenderSuccess:i.exports.func,page:B.isRequired,renderForms:i.exports.bool,rotate:j,scale:i.exports.number.isRequired};function tt(a){return g(F.Consumer,{children:function(s){return g(be,{...s,...a})}})}function rt(a){var s=nt();return function(){var e=P(a),t;if(s){var c=P(this).constructor;t=Reflect.construct(e,arguments,c)}else t=e.apply(this,arguments);return D(this,t)}}function nt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Pe=function(a){_(n,a);var s=rt(n);function n(){var e;O(this,n);for(var t=arguments.length,c=new Array(t),u=0;u<t;u++)c[u]=arguments[u];return e=s.call.apply(s,[this].concat(c)),f(l(e),"state",{svg:null}),f(l(e),"onRenderSuccess",function(){e.renderer=null;var r=e.props,o=r.onRenderSuccess,p=r.page,d=r.scale;o&&o($(p,d))}),f(l(e),"onRenderError",function(r){if(!xe(r)){x(r);var o=e.props.onRenderError;o&&o(r)}}),f(l(e),"renderSVG",function(){var r=e.props.page;return e.renderer=r.getOperatorList(),e.renderer.then(function(o){var p=new L.exports.SVGGraphics(r.commonObjs,r.objs);e.renderer=p.getSVG(o,e.viewport).then(function(d){e.setState({svg:d},e.onRenderSuccess)}).catch(e.onRenderError)}).catch(e.onRenderError)}),f(l(e),"drawPageOnContainer",function(r){var o=e.state.svg;if(!(!r||!o)){r.firstElementChild||r.appendChild(o);var p=e.viewport,d=p.width,h=p.height;o.setAttribute("width",d),o.setAttribute("height",h)}}),e}return T(n,[{key:"componentDidMount",value:function(){this.renderSVG()}},{key:"viewport",get:function(){var t=this.props,c=t.page,u=t.rotate,r=t.scale;return c.getViewport({scale:r,rotation:u})}},{key:"render",value:function(){var t=this,c=this.viewport,u=c.width,r=c.height;return g("div",{className:"react-pdf__Page__svg",ref:function(p){return t.drawPageOnContainer(p)},style:{display:"block",backgroundColor:"white",overflow:"hidden",width:u,height:r,userSelect:"none"}})}}]),n}(R.exports.PureComponent);Pe.propTypes={onRenderError:i.exports.func,onRenderSuccess:i.exports.func,page:B.isRequired,rotate:j,scale:i.exports.number.isRequired};function ot(a){return g(F.Consumer,{children:function(s){return g(Pe,{...s,...a})}})}function pe(a,s){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);s&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})),n.push.apply(n,e)}return n}function at(a){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?pe(Object(n),!0).forEach(function(e){f(a,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(n,e))})}return a}function it(a){var s=st();return function(){var e=P(a),t;if(s){var c=P(this).constructor;t=Reflect.construct(e,arguments,c)}else t=e.apply(this,arguments);return D(this,t)}}function st(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var we=function(a){_(n,a);var s=it(n);function n(){var e;O(this,n);for(var t=arguments.length,c=new Array(t),u=0;u<t;u++)c[u]=arguments[u];return e=s.call.apply(s,[this].concat(c)),f(l(e),"state",{textContent:null}),f(l(e),"layerElement",R.exports.createRef()),f(l(e),"endElement",R.exports.createRef()),f(l(e),"loadTextContent",function(){var r=e.props.page,o=M(r.getTextContent());e.runningTask=o,o.promise.then(function(p){e.setState({textContent:p},e.onLoadSuccess)}).catch(function(p){e.onLoadError(p)})}),f(l(e),"onLoadSuccess",function(){var r=e.props.onGetTextSuccess,o=e.state.textContent;r&&r(o)}),f(l(e),"onLoadError",function(r){e.setState({textItems:!1}),x(r);var o=e.props.onGetTextError;o&&o(r)}),f(l(e),"onRenderSuccess",function(){var r=e.props.onRenderTextLayerSuccess;r&&r()}),f(l(e),"onRenderError",function(r){x(r);var o=e.props.onRenderTextLayerError;o&&o(r)}),f(l(e),"onMouseDown",function(){var r=e.endElement.current;!r||r.classList.add("active")}),f(l(e),"onMouseUp",function(){var r=e.endElement.current;!r||r.classList.remove("active")}),e}return T(n,[{key:"componentDidMount",value:function(){var t=this.props.page;b(t,"Attempted to load page text content, but no page was specified."),x(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer"),this.loadTextContent()}},{key:"componentDidUpdate",value:function(t){var c=this.props.page;t.page&&c!==t.page&&this.loadTextContent()}},{key:"componentWillUnmount",value:function(){C(this.runningTask)}},{key:"viewport",get:function(){var t=this.props,c=t.page,u=t.rotate,r=t.scale;return c.getViewport({scale:r,rotation:u})}},{key:"unrotatedViewport",get:function(){var t=this.props,c=t.page,u=t.scale;return c.getViewport({scale:u})}},{key:"rotate",get:function(){var t=this.props,c=t.page,u=t.rotate;return u-c.rotate}},{key:"renderTextLayer",value:function(){var t=this,c=this.state.textContent;if(!c)return null;var u=this.layerElement.current,r=this.viewport,o=this.props,p=o.customTextRenderer,d=o.pageIndex,h=o.pageNumber;C(this.runningTask),u.innerHTML="";var v={container:u,textContent:c,viewport:r},m=L.exports.renderTextLayer(v);this.runningTask=m,m.promise.then(function(){var y=document.createElement("div");if(y.className="endOfContent",u.append(y),t.endElement.current=y,p){var w=0;c.items.forEach(function(S,U){var V=t.layerElement.current.children[w],q=p(at({pageIndex:d,pageNumber:h,itemIndex:U},S));V.innerHTML=q,w+=S.str&&S.hasEOL?2:1})}t.onRenderSuccess()}).catch(function(y){t.onRenderError(y)})}},{key:"render",value:function(){return g("div",{className:"react-pdf__Page__textContent textLayer",onMouseUp:this.onMouseUp,onMouseDown:this.onMouseDown,ref:this.layerElement,children:this.renderTextLayer()})}}]),n}(R.exports.PureComponent);we.propTypes={customTextRenderer:i.exports.func,onGetTextError:i.exports.func,onGetTextSuccess:i.exports.func,onRenderTextLayerError:i.exports.func,onRenderTextLayerSuccess:i.exports.func,page:B.isRequired,pageIndex:i.exports.number.isRequired,pageNumber:i.exports.number.isRequired,rotate:j,scale:i.exports.number};function ct(a){return g(F.Consumer,{children:function(s){return g(we,{...s,...a})}})}function ut(a){var s=pt();return function(){var e=P(a),t;if(s){var c=P(this).constructor;t=Reflect.construct(e,arguments,c)}else t=e.apply(this,arguments);return D(this,t)}}function pt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Se=function(a){_(n,a);var s=ut(n);function n(){var e;O(this,n);for(var t=arguments.length,c=new Array(t),u=0;u<t;u++)c[u]=arguments[u];return e=s.call.apply(s,[this].concat(c)),f(l(e),"state",{annotations:null}),f(l(e),"layerElement",R.exports.createRef()),f(l(e),"loadAnnotations",function(){var r=e.props.page,o=M(r.getAnnotations());e.runningTask=o,o.promise.then(function(p){e.setState({annotations:p},e.onLoadSuccess)}).catch(function(p){e.onLoadError(p)})}),f(l(e),"onLoadSuccess",function(){var r=e.props.onGetAnnotationsSuccess,o=e.state.annotations;r&&r(o)}),f(l(e),"onLoadError",function(r){e.setState({annotations:!1}),x(r);var o=e.props.onGetAnnotationsError;o&&o(r)}),f(l(e),"onRenderSuccess",function(){var r=e.props.onRenderAnnotationLayerSuccess;r&&r()}),f(l(e),"onRenderError",function(r){x(r);var o=e.props.onRenderAnnotationLayerError;o&&o(r)}),e}return T(n,[{key:"componentDidMount",value:function(){var t=this.props.page;b(t,"Attempted to load page annotations, but no page was specified."),x(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations"),this.loadAnnotations()}},{key:"componentDidUpdate",value:function(t){var c=this.props,u=c.page,r=c.renderForms;(t.page&&u!==t.page||r!==t.renderForms)&&this.loadAnnotations()}},{key:"componentWillUnmount",value:function(){C(this.runningTask)}},{key:"viewport",get:function(){var t=this.props,c=t.page,u=t.rotate,r=t.scale;return c.getViewport({scale:r,rotation:u})}},{key:"renderAnnotationLayer",value:function(){var t=this.state.annotations;if(!!t){var c=this.props,u=c.imageResourcesPath,r=c.linkService,o=c.page,p=c.renderForms,d=this.viewport.clone({dontFlip:!0}),h={annotations:t,div:this.layerElement.current,imageResourcesPath:u,linkService:r,page:o,renderForms:p,viewport:d};this.layerElement.current.innerHTML="";try{L.exports.AnnotationLayer.render(h),this.onRenderSuccess()}catch(v){this.onRenderError(v)}}}},{key:"render",value:function(){return g("div",{className:"react-pdf__Page__annotations annotationLayer",ref:this.layerElement,children:this.renderAnnotationLayer()})}}]),n}(R.exports.PureComponent);Se.propTypes={imageResourcesPath:i.exports.string,linkService:qe.isRequired,onGetAnnotationsError:i.exports.func,onGetAnnotationsSuccess:i.exports.func,onRenderAnnotationLayerError:i.exports.func,onRenderAnnotationLayerSuccess:i.exports.func,page:B,renderForms:i.exports.bool,rotate:j,scale:i.exports.number};var ft=function(s){return g(Q.Consumer,{children:function(n){return g(F.Consumer,{children:function(e){return g(Se,{...n,...e,...s})}})}})};function fe(a,s){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);s&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})),n.push.apply(n,e)}return n}function le(a){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?fe(Object(n),!0).forEach(function(e){f(a,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(n,e))})}return a}function lt(a){var s=dt();return function(){var e=P(a),t;if(s){var c=P(this).constructor;t=Reflect.construct(e,arguments,c)}else t=e.apply(this,arguments);return D(this,t)}}function dt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Ee=1,re=function(a){_(n,a);var s=lt(n);function n(){var e;O(this,n);for(var t=arguments.length,c=new Array(t),u=0;u<t;u++)c[u]=arguments[u];return e=s.call.apply(s,[this].concat(c)),f(l(e),"state",{page:null}),f(l(e),"pageElement",R.exports.createRef()),f(l(e),"onLoadSuccess",function(){var r=e.props,o=r.onLoadSuccess,p=r.registerPage,d=e.state.page;o&&o($(d,e.scale)),p&&p(e.pageIndex,e.pageElement.current)}),f(l(e),"onLoadError",function(r){e.setState({page:!1}),x(r);var o=e.props.onLoadError;o&&o(r)}),f(l(e),"loadPage",function(){var r=e.props.pdf,o=e.getPageNumber();if(!!o){e.setState(function(d){return d.page?{page:null}:null});var p=M(r.getPage(o));e.runningTask=p,p.promise.then(function(d){e.setState({page:d},e.onLoadSuccess)}).catch(function(d){e.onLoadError(d)})}}),e}return T(n,[{key:"componentDidMount",value:function(){var t=this.props.pdf;b(t,"Attempted to load a page, but no document was specified."),this.loadPage()}},{key:"componentDidUpdate",value:function(t){var c=this.props.pdf;if(t.pdf&&c!==t.pdf||this.getPageNumber()!==this.getPageNumber(t)){var u=this.props.unregisterPage;u&&u(this.getPageIndex(t)),this.loadPage()}}},{key:"componentWillUnmount",value:function(){var t=this.props.unregisterPage;t&&t(this.pageIndex),C(this.runningTask)}},{key:"childContext",get:function(){var t=this.pageIndex,c=this.pageNumber,u=this.state.page;if(!u)return{};var r=this.props,o=r.canvasBackground,p=r.customTextRenderer,d=r.devicePixelRatio,h=r.onGetAnnotationsError,v=r.onGetAnnotationsSuccess,m=r.onGetTextError,y=r.onGetTextSuccess,w=r.onRenderAnnotationLayerError,S=r.onRenderAnnotationLayerSuccess,U=r.onRenderError,V=r.onRenderSuccess,q=r.onRenderTextLayerError,ke=r.onRenderTextLayerSuccess,W=r.renderForms,Le=r.renderInteractiveForms;return{canvasBackground:o,customTextRenderer:p,devicePixelRatio:d,onGetAnnotationsError:h,onGetAnnotationsSuccess:v,onGetTextError:m,onGetTextSuccess:y,onRenderAnnotationLayerError:w,onRenderAnnotationLayerSuccess:S,onRenderError:U,onRenderSuccess:V,onRenderTextLayerError:q,onRenderTextLayerSuccess:ke,page:u,pageIndex:t,pageNumber:c,renderForms:W!=null?W:Le,rotate:this.rotate,scale:this.scale}}},{key:"getPageIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return A(t.pageNumber)?t.pageNumber-1:A(t.pageIndex)?t.pageIndex:null}},{key:"getPageNumber",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return A(t.pageNumber)?t.pageNumber:A(t.pageIndex)?t.pageIndex+1:null}},{key:"pageIndex",get:function(){return this.getPageIndex()}},{key:"pageNumber",get:function(){return this.getPageNumber()}},{key:"rotate",get:function(){var t=this.props.rotate;if(A(t))return t;var c=this.state.page;return c?c.rotate:null}},{key:"scale",get:function(){var t=this.state.page;if(!t)return null;var c=this.props,u=c.scale,r=c.width,o=c.height,p=this.rotate,d=1,h=u===null?Ee:u;if(r||o){var v=t.getViewport({scale:1,rotation:p});d=r?r/v.width:o/v.height}return h*d}},{key:"eventProps",get:function(){var t=this;return de(this.props,function(){var c=t.state.page;return c&&$(c,t.scale)})}},{key:"pageKey",get:function(){return"".concat(this.pageIndex,"@").concat(this.scale,"/").concat(this.rotate)}},{key:"pageKeyNoScale",get:function(){return"".concat(this.pageIndex,"/").concat(this.rotate)}},{key:"renderMainLayer",value:function(){var t=this.props,c=t.canvasRef,u=t.renderMode;switch(u){case"none":return null;case"svg":return g(ot,{},"".concat(this.pageKeyNoScale,"_svg"));case"canvas":default:return g(tt,{canvasRef:c},"".concat(this.pageKey,"_canvas"))}}},{key:"renderTextLayer",value:function(){var t=this.props.renderTextLayer;return t?g(ct,{},"".concat(this.pageKey,"_text")):null}},{key:"renderAnnotationLayer",value:function(){var t=this.props.renderAnnotationLayer;return t?g(ft,{},"".concat(this.pageKey,"_annotations")):null}},{key:"renderChildren",value:function(){var t=this.props.children;return Ie(F.Provider,{value:this.childContext,children:[this.renderMainLayer(),this.renderTextLayer(),this.renderAnnotationLayer(),t]})}},{key:"renderContent",value:function(){var t=this.pageNumber,c=this.props.pdf,u=this.state.page;if(!t){var r=this.props.noData;return g(E,{type:"no-data",children:typeof r=="function"?r():r})}if(c===null||u===null){var o=this.props.loading;return g(E,{type:"loading",children:typeof o=="function"?o():o})}if(c===!1||u===!1){var p=this.props.error;return g(E,{type:"error",children:typeof p=="function"?p():p})}return this.renderChildren()}},{key:"render",value:function(){var t=this.pageNumber,c=this.props,u=c.className,r=c.inputRef;return g("div",{className:ge("react-pdf__Page",u),"data-page-number":t,ref:he(r,this.pageElement),style:{position:"relative",minWidth:"min-content",minHeight:"min-content"},...this.eventProps,children:this.renderContent()})}}]),n}(R.exports.PureComponent);re.defaultProps={error:"Failed to load the page.",loading:"Loading page\u2026",noData:"No page specified.",renderAnnotationLayer:!0,renderMode:"canvas",renderTextLayer:!0,scale:Ee};var z=i.exports.oneOfType([i.exports.func,i.exports.node]);re.propTypes=le(le({},X),{},{canvasBackground:i.exports.string,children:i.exports.node,className:ee,customTextRenderer:i.exports.func,devicePixelRatio:i.exports.number,error:z,height:i.exports.number,imageResourcesPath:i.exports.string,inputRef:G,loading:z,noData:z,onGetTextError:i.exports.func,onGetTextSuccess:i.exports.func,onLoadError:i.exports.func,onLoadSuccess:i.exports.func,onRenderError:i.exports.func,onRenderSuccess:i.exports.func,onRenderTextLayerError:i.exports.func,onRenderTextLayerSuccess:i.exports.func,pageIndex:We,pageNumber:He,pdf:te,registerPage:i.exports.func,renderAnnotationLayer:i.exports.bool,renderForms:i.exports.bool,renderInteractiveForms:i.exports.bool,renderMode:Ke,renderTextLayer:i.exports.bool,rotate:j,scale:i.exports.number,unregisterPage:i.exports.func,width:i.exports.number});function gt(a,s){return g(Q.Consumer,{children:function(n){return g(re,{ref:s,...n,...a})}})}const kt=Te.forwardRef(gt);Ge();L.exports.GlobalWorkerOptions.workerSrc=new URL("/assets/pdf.worker.6b078827.js",self.location);export{Re as D,kt as P};
